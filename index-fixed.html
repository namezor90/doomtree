<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DOM-fa Megjelenítő</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/dark-mode.css">
</head>
<body>
    <header>
        <h1>DOM-fa Megjelenítő</h1>
        <p>Készítsen, vizualizáljon és fedezze fel a DOM-struktúrát</p>
    </header>

    <main>
        <section class="control-panel">
            <div class="input-area">
                <label for="html-input">HTML kód:</label>
                <textarea id="html-input" placeholder="Illessze be a HTML-kódot ide, vagy használja az egyik példát..."></textarea>
                
                <div class="sample-buttons">
                    <button id="simple-example">Egyszerű példa</button>
                    <button id="nested-example">Összetett példa</button>
                    <button id="current-page">Aktuális oldal DOM-ja</button>
                </div>
            </div>

            <div class="option-row">
                <div class="option-group">
                    <label for="layout-type">Elrendezés típusa:</label>
                    <select id="layout-type">
                        <option value="tree">Fa elrendezés (függőleges)</option>
                        <option value="horizontal">Fa elrendezés (vízszintes)</option>
                        <option value="radial">Sugaras elrendezés</option>
                    </select>
                </div>

                <div class="option-group">
                    <label for="node-distance">Csomópontok távolsága:</label>
                    <input type="range" id="node-distance" min="40" max="120" value="60">
                </div>

                <div class="option-group">
                    <div class="checkbox-group">
                        <input type="checkbox" id="show-attributes" checked>
                        <label for="show-attributes">Attribútumok megjelenítése</label>
                    </div>
                    <div class="checkbox-group">
                        <input type="checkbox" id="show-text-nodes" checked>
                        <label for="show-text-nodes">Szövegcsomópontok megjelenítése</label>
                    </div>
                    <div class="checkbox-group">
                        <input type="checkbox" id="show-comments">
                        <label for="show-comments">Megjegyzések megjelenítése</label>
                    </div>
                </div>
            </div>

            <div class="button-row">
                <button id="visualize-btn">DOM-fa Megjelenítése</button>
                <button id="debug-btn" title="Hibaelhárítás és DOM részletek">Hibakeresés</button>
            </div>
            <div class="status-area" id="status-area"></div>
        </section>

        <section class="visualizer">
            <div class="visualizer-header">
                <h2>DOM-fa Vizualizáció</h2>
                <div>
                    <button id="expand-all">Összes kibontása</button>
                    <button id="collapse-all">Összes összecsukása</button>
                </div>
            </div>

            <div class="node-legend">
                <div class="legend-item">
                    <div class="legend-color" style="background-color: var(--element-color);"></div>
                    <span>Elem csomópont</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background-color: var(--text-node-color);"></div>
                    <span>Szöveg csomópont</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background-color: var(--comment-color);"></div>
                    <span>Megjegyzés</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background-color: var(--attribute-color);"></div>
                    <span>Attribútumok</span>
                </div>
            </div>

            <div class="svg-container" id="tree-container">
                <svg id="tree-svg"></svg>
            </div>

            <div class="controls-area">
                <button class="zoom-control" id="zoom-in" title="Nagyítás">+</button>
                <button class="zoom-control" id="zoom-out" title="Kicsinyítés">-</button>
                <button class="zoom-control" id="zoom-reset" title="Alaphelyzet">↺</button>
            </div>
        </section>

        <div class="detail-panel" id="detail-panel">
            <button class="close-btn">&times;</button>
            <div class="detail-title">Csomópont részletei</div>
            <div class="detail-content" id="detail-content"></div>
            <div class="detail-props" id="detail-props"></div>
        </div>

        <div class="debug-panel" id="debug-panel">
            <button class="close-btn">&times;</button>
            <div class="detail-title">Hibakeresés</div>
            <div class="debug-tabs">
                <button class="debug-tab active" data-tab="dom-structure">DOM Szerkezet</button>
                <button class="debug-tab" data-tab="parsed-data">Elemzett adatok</button>
                <button class="debug-tab" data-tab="console">Konzol</button>
            </div>
            <div class="debug-content active" id="dom-structure-tab">
                <div id="dom-structure-content" class="tree-structure"></div>
            </div>
            <div class="debug-content" id="parsed-data-tab">
                <pre id="parsed-data-content"></pre>
            </div>
            <div class="debug-content" id="console-tab">
                <div class="console-toolbar">
                    <button id="clear-console">Konzol törlése</button>
                </div>
                <div id="console-content"></div>
            </div>
        </div>
    </main>

    <!-- Külső könyvtárak -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    
    <!-- Saját JavaScript modulok -->
    <script src="js/config.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/examples.js"></script>
    <!-- JAVÍTVA: domParser.js helyett domTreeParser.js -->
    <script src="js/domTreeParser.js"></script>
    <script src="js/visualization.js"></script>
    <script src="js/detailPanel.js"></script>
    <script src="js/debugPanel.js"></script>
    <script src="js/app.js"></script>
</body>
</html>